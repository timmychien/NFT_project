<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>#{title}</title>
</head>
<body>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
  <link rel="stylesheet" href="/stylesheets/index.css">
  <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
  
  // owl-carousel
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css" integrity="sha512-tS3S5qG0BlhnQROyJXvNjeEM4UpMXHrQfTGmbQ1gKmelCxlSEBUaxhRBj/EFTzpbP4RVSrpEikbmdJobCvhE3g==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js" integrity="sha512-bPs7Ae6pVvhOSiIcyUClR7/q2OAsRiovw4vAkX+zJbw3ShAeeqezq50RIIcIURq7Oa20rW2n2q+fyXBNcU9lrw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  
  // navbar
  include ./navigator.pug

  // body

  // old ver.
  //- <div class="wallet_info">
  //-   <h1>請使用<a href="https://www.google.com/chrome/">chrome</a>開啟</h1>
  //-   <h1>點我下載<a href="https://metamask.io/">Metamask</a>錢包</h1>
  //-   <h2 id="info">目前連接錢包資訊</h2>
  //-   <hr>
  //-   <label>地址:</label><br>
  //-     <a id="addr"></a>
  //-   if(walletaddress)
  //-     <input type="hidden" id="walletdb" value=#{walletaddress}>
  //-   <br>
  //-   <br>
  //-   <label>ETH餘額:</label>
  //-   <a id="bal"></a> ETH <br>
  //-   <label>點數餘額:</label>
  //-   <a id="point_bal"></a> 點
  //-   <hr>
  //- </div>
  
  //- <div class="promote_info">
  //-   <h1>熱門作品</h1>
  //-   if (promote_data)
  //-     each x in promote_data
  //-       <div class=info>
  //-         <br>
  //-         <br>
  //-         <div class="container-left">
  //-           <img src=#{x.uri} width="697"height="408">
  //-         </div>
  //-         <div class="container-right">
  //-           <br>
  //-           <label for="name">作品名稱:</label><br>
  //-           <dd>#{x.name}</dd>
  //-           <br>
  //-           <label for="author">創作者:</label><br>
  //-           <dd>#{x.author}</dd>
  //-           <br>
  //-           <br>
  //-           <br>
  //-         </div>
  //-       </div>
  //- </div>

  // new ver.
  <div class="container">
    
    <div class="row flex-nowrap overflow-auto">
      
      if (promote_data)
        each x in promote_data
            
          <div class="col-auto">
            <img src=#{x.uri} width="300">
            <h5 class="mt-3 ml-2">#{x.name}</h5>
            <h6 class="ml-2">#{test}</h6>
          </div>

          <div class="col-auto">
            <img src=#{x.uri} width="300">
            <h5 class="mt-3 ml-2">#{x.name}</h5>
            <h6 class="ml-2">#{x.author}</h6>
          </div>

        //- <div class=info>
        //-   <br>
        //-   <br>
        //-   <div class="container-left">
        //-     <img src=#{x.uri} width="697"height="408">
        //-   </div>
        //-   <div class="container-right">
        //-     <br>
        //-     <label for="name">作品名稱:</label><br>
        //-     <dd>#{x.name}</dd>
        //-     <br>
        //-     <label for="author">創作者:</label><br>
        //-     <dd>#{x.author}</dd>
        //-     <br>
        //-     <br>
        //-     <br>
        //-   </div>
        //- </div>

          

    </div>
  </div>

  // bootstrap carousel test
  <div class="container">
    <h5 class="text-center mb-5">活動詳情</h5>
    <div class="row">
        <div id="recipeCarousel" class="carousel slide w-100" data-ride="carousel">
            <div class="carousel-inner" role="listbox">

                <div class="carousel-item active">
                  <div class="col-4">
                    <img src="https://dummyimage.com/350x350/8b9091/fff" width="350" height="350">
                    //- TODO: 作者橢圓形tags
                    <p for="" id="collection">Collection-1</p>
                    <div class="row">
                      <div class="col-auto mr-auto" for="" id="title">Title</div>
                      <div class="col-auto" for="" id="price"><p>price</p></div>
                    </div>
                  </div>
                </div>
                <div class="carousel-item">
                  <div class="col-4">
                    <img src="https://dummyimage.com/350x350/8b9091/fff" width="350" height="350">
                    //- TODO: 作者橢圓形tag
                    <p for="" id="collection">Collection-2</p>
                    <div class="row">
                      <div class="col-auto mr-auto" for="" id="title">Title</div>
                      <div class="col-auto" for="" id="price"><p>price</p></div>
                    </div>
                  </div>
                </div>
                <div class="carousel-item">
                  <div class="col-4">
                    <img src="https://dummyimage.com/350x350/8b9091/fff" width="350" height="350">
                    //- TODO: 作者橢圓形tag
                    <p for="" id="collection">Collection-3</p>
                    <div class="row">
                      <div class="col-auto mr-auto" for="" id="title">Title</div>
                      <div class="col-auto" for="" id="price"><p>price</p></div>
                    </div>
                  </div>
                </div>
                <div class="carousel-item">
                  <div class="col-4">
                    <img src="https://dummyimage.com/350x350/8b9091/fff" width="350" height="350">
                    //- TODO: 作者橢圓形tag
                    <p for="" id="collection">Collection-4</p>
                    <div class="row">
                      <div class="col-auto mr-auto" for="" id="title">Title</div>
                      <div class="col-auto" for="" id="price"><p>price</p></div>
                    </div>
                  </div>
                </div>
                <div class="carousel-item">
                  <div class="col-4">
                    <img src="https://dummyimage.com/350x350/8b9091/fff" width="350" height="350">
                    //- TODO: 作者橢圓形tag
                    <p for="" id="collection">Collection-5</p>
                    <div class="row">
                      <div class="col-auto mr-auto" for="" id="title">Title</div>
                      <div class="col-auto" for="" id="price"><p>price</p></div>
                    </div>
                  </div>
                </div>
                <div class="carousel-item">
                  <div class="col-4">
                    <img src="https://dummyimage.com/350x350/8b9091/fff" width="350" height="350">
                    //- TODO: 作者橢圓形tag
                    <p for="" id="collection">Collection-6</p>
                    <div class="row">
                      <div class="col-auto mr-auto" for="" id="title">Title</div>
                      <div class="col-auto" for="" id="price"><p>price</p></div>
                    </div>
                  </div>
                </div>
            </div>
            
            // button
            <a class="carousel-control-prev w-auto" href="#recipeCarousel" role="button" data-slide="prev">
                <span ><i class="fa fa-arrow-left" aria-hidden="true"></i></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next w-auto" href="#recipeCarousel" role="button" data-slide="next">
                <span><i class="fa fa-arrow-right" aria-hidden="true"></i></span>
                <span class="sr-only">Next</span>
            </a>
        </div>
    </div>
  </div>

  // bootstrap carousel test
  <div class="container">
    <h5 class="text-center mb-5">最新上架</h5>
    <div class="row">
        <div id="recipeCarousel" class="carousel slide w-100" data-ride="carousel">
            <div class="carousel-inner" role="listbox">
                <div class="carousel-item active">
                  <div class="col-4">
                    <img src="https://dummyimage.com/350x350/8b9091/fff" width="350" height="350">
                    //- TODO: 作者橢圓形tag
                    <p for="" id="collection">Collection-1</p>
                    <div class="row">
                      <div class="col-auto mr-auto" for="" id="title">Title</div>
                      <div class="col-auto" for="" id="price"><p>price</p></div>
                    </div>
                  </div>
                </div>
                <div class="carousel-item">
                  <div class="col-4">
                    <img src="https://dummyimage.com/350x350/8b9091/fff" width="350" height="350">
                    //- TODO: 作者橢圓形tag
                    <p for="" id="collection">Collection-2</p>
                    <div class="row">
                      <div class="col-auto mr-auto" for="" id="title">Title</div>
                      <div class="col-auto" for="" id="price"><p>price</p></div>
                    </div>
                  </div>
                </div>
                <div class="carousel-item">
                  <div class="col-4">
                    <img src="https://dummyimage.com/350x350/8b9091/fff" width="350" height="350">
                    //- TODO: 作者橢圓形tag
                    <p for="" id="collection">Collection-3</p>
                    <div class="row">
                      <div class="col-auto mr-auto" for="" id="title">Title</div>
                      <div class="col-auto" for="" id="price"><p>price</p></div>
                    </div>
                  </div>
                </div>
                <div class="carousel-item">
                  <div class="col-4">
                    <img src="https://dummyimage.com/350x350/8b9091/fff" width="350" height="350">
                    //- TODO: 作者橢圓形tag
                    <p for="" id="collection">Collection-4</p>
                    <div class="row">
                      <div class="col-auto mr-auto" for="" id="title">Title</div>
                      <div class="col-auto" for="" id="price"><p>price</p></div>
                    </div>
                  </div>
                </div>
                <div class="carousel-item">
                  <div class="col-4">
                    <img src="https://dummyimage.com/350x350/8b9091/fff" width="350" height="350">
                    //- TODO: 作者橢圓形tag
                    <p for="" id="collection">Collection-5</p>
                    <div class="row">
                      <div class="col-auto mr-auto" for="" id="title">Title</div>
                      <div class="col-auto" for="" id="price"><p>price</p></div>
                    </div>
                  </div>
                </div>
                <div class="carousel-item">
                  <div class="col-4">
                    <img src="https://dummyimage.com/350x350/8b9091/fff" width="350" height="350">
                    //- TODO: 作者橢圓形tag
                    <p for="" id="collection">Collection-6</p>
                    <div class="row">
                      <div class="col-auto mr-auto" for="" id="title">Title</div>
                      <div class="col-auto" for="" id="price"><p>price</p></div>
                    </div>
                  </div>
                </div>
            </div>
            
            // button
            <a class="carousel-control-prev w-auto" href="#recipeCarousel" role="button" data-slide="prev">
                <span ><i class="fa fa-arrow-left" aria-hidden="true"></i></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next w-auto" href="#recipeCarousel" role="button" data-slide="next">
                <span><i class="fa fa-arrow-right" aria-hidden="true"></i></span>
                <span class="sr-only">Next</span>
            </a>
        </div>
    </div>
  </div>

  script.
    $('#recipeCarousel').carousel({
      interval: 10000
    })

  script.
    $('.carousel .carousel-item').each(function(){
      var minPerSlide = 3;
      var next = $(this).next();
      if (!next.length) {
      next = $(this).siblings(':first');
      }
      next.children(':first-child').clone().appendTo($(this));

      for (var i=0;i<minPerSlide;i++) {
          next=next.next();
          if (!next.length) {
              next = $(this).siblings(':first');
          }
          
          next.children(':first-child').clone().appendTo($(this));
      }
    });

  // footbar
  include ./footbar.pug
  
  <script src="/javascripts/pointabi.js"></script>
  <script src="/javascripts/index.js"></script>
  
</body>
</html>
